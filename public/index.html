
<!DOCTYPE html><html><head>
<meta charset="utf-8"/><title>SARISA â€“ Login</title>
<link rel="stylesheet" href="/css/style.css">
</head><body>
  <div class="login-bg">
    <div class="login-card">
      <h1>SARISA</h1>
      <p class="muted">Smart Adaptive Resource for Integrating Support in ADHD</p>
      <div class="stack">
        <input id="email" class="input" placeholder="Email" type="email" required>
        <input id="password" class="input" placeholder="Password" type="password" required>
        <button id="btnLogin" class="btn">Login</button>
        <button id="btnRegister" class="btn soft">Create Account</button>
        <p id="loginMsg" class="muted"></p>
      </div>
    </div>
  </div>
<script>
async function api(p,o={}){const r=await fetch(p,{credentials:'include',headers:{'Content-Type':'application/json'},...o});if(!r.ok)throw new Error((await r.json()).error||'Request failed');return r.json();}
document.getElementById('btnRegister').onclick=()=>location.href='/registration.html';
document.getElementById('btnLogin').onclick=async()=>{
  const email=document.getElementById('email').value.trim();
  const password=document.getElementById('password').value;
  try{
    const data=await api('/api/auth/login',{method:'POST',body:JSON.stringify({email,password})});
    location.href=data.user.role==='parent'?'/parent.html':'/child.html';
  }catch(e){document.getElementById('loginMsg').textContent=e.message;}
};
</script>
</body></html>
